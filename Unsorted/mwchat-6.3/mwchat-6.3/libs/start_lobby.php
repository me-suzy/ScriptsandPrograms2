<?PHP
  $Sequence = $STATUS[CLIENT_IP]; $Sequence_Check = base64_encode($Sequence); include("$CONFIG[MWCHAT_Libs]/chat_maintainance.php"); $rgLobby_SELECT = db_query(Validate(3), $CONN); $szResult = db_numrows($rgLobby_SELECT); if ($szResult == "0") { $rgLobby_INSERT = db_query("INSERT INTO chat_lobby VALUES(NULL, '$Username', NULL, '$Sequence', '$Sequence_Check', '$STATUS[Admin]', '$STATUS[Registered]', '$CONFIG[Color_TextDefault]')", $CONN); db_close($CONN); header("Location: lobby.php?Username=$Username&Sequence_Check=$Sequence_Check&Lang=$Lang&Resolution=$Resolution"); exit; } else { if ( ($STATUS[Admin] == "yes" or $STATUS[Registered] == "yes") and ($CONFIG[Chat_Admin_Force] == "true") ) { Remove_User($Username); $rgLobby_INSERT = db_query("INSERT INTO chat_lobby VALUES(NULL, '$Username', NULL, '$Sequence', '$Sequence_Check', '$STATUS[Admin]', '$STATUS[Registered]', '$CONFIG[Color_TextDefault]')", $CONN); db_close($CONN); header("Location: lobby.php?Username=$Username&Sequence_Check=$Sequence_Check&Lang=$Lang&Resolution=$Resolution"); exit; } Error("ERROR_AlreadyIn"); } ?>
