<?PHP
  if ($STATUS[Registered] == "yes") { if (!empty($rgMatches[3])) { $rgMatches[3] = Clean_Variable($rgMatches[3], "lowercase"); $rgRegistered_SELECT = db_query(Validate(1005), $CONN); while($rgUsers = db_fetch($rgRegistered_SELECT)) { $szLocatable = $rgUsers[locate]; } if ($szLocatable == "no") { Post_System("<I>$rgMatches[3] $LOCALE[DIALOG_Not_Located]</I>", "syntax", $Room); } else { $rgUsers_SELECT = db_query(Validate(16), $CONN); $rgUsers = db_numrows($rgUsers_SELECT); if ($rgUsers == "1") { while($rgUsersInfo = db_fetch($rgUsers_SELECT)) { $szRoomIn = $rgUsersInfo[room]; } $rgRooms_SELECT = db_query(Validate(12), $CONN); while($rgRooms = db_fetch($rgRooms_SELECT)) { if ($rgRooms[title] == $szRoomIn) { Post_System("<I>$rgMatches[3] $LOCALE[DIALOG_Located]: $szRoomIn</I>", "syntax", $Room); $szToldRoom = TRUE; } } if ($szToldRoom != TRUE) { Post_System("<I>$rgMatches[3] $LOCALE[DIALOG_Located_Private]</I>", "syntax", $Room); } } else { Post_System("<I>$rgMatches[3] $LOCALE[DIALOG_Not_Online]</I>", "syntax", $Room); } } } else { Post_System("<B>$LOCALE[DIALOG_Syntax_Error]</B> - /$rgMatches[1] { $LOCALE[COMMON_Username] }", "syntax", $Room); } } else { Post_System("<B>$LOCALE[DIALOG_Syntax_Error]</B> - /$rgMatches[1] $LOCALE[COMMON_Registered_Only]", "syntax", $Room); } ?>
