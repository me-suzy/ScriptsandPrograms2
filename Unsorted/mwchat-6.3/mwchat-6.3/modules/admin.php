<?PHP
  if ($STATUS[Admin] == "yes") { $rgArgs[0] = Clean_Variable($rgArgs[0], "lowercase"); if ($rgArgs[0] == "viewlogs") { $rgArgs[1] = Clean_Variable($rgArgs[1], "spaces"); $rgArgs[1] = Clean_Variable($rgArgs[1], "html"); $rgArgs[1] = Clean_Variable($rgArgs[1], "lowercase"); $rgProcess_INSERT = db_query(Validate(44), $CONN); } elseif ($rgArgs[0] == "unregister" and isset($rgArgs[1])) { if (!empty($rgArgs[1])) { $rgArgs[1] = Clean_Variable($rgArgs[1], "all"); $rgRegistered_DELETE = db_query(Validate(32, "Username", $rgArgs[1]), $CONN); $rgBuddy_DELETE = db_query(Validate(1009, "Username", $rgArgs[1]), $CONN); $rgLobby_UPDATE = db_query(Validate(1010, "Username", $rgArgs[1]), $CONN); if (is_dir("$CONFIG[System_Root]/$CONFIG[MWCHAT_Upload]/$rgArgs[1]")) { $szHandle = opendir("$CONFIG[System_Root]/$CONFIG[MWCHAT_Upload]/$rgArgs[1]"); while($szFile = readdir($szHandle)) { if ($szFile != "." && $szFile != "..") { unlink("$CONFIG[System_Root]/$CONFIG[MWCHAT_Upload]/$rgArgs[1]/$szFile"); } } closedir($szHandle); rmdir("$CONFIG[System_Root]/$CONFIG[MWCHAT_Upload]/$rgArgs[1]"); } $rgProcess_INSERT = db_query(Validate(34, "Username", $rgArgs[1]), $CONN); $rgProcess_INSERT = db_query(Validate(39, "Username", $rgArgs[1]), $CONN); Post_System("<I>$rgArgs[1] $LOCALE[DIALOG_Unregistered]</I>", "syntax", $Room); } else { Post_System("<B>$LOCALE[DIALOG_Syntax_Error]</B> - /$rgMatches[1] { unregister } [ $LOCALE[COMMON_Username] ]", "syntax", $Room); } } else { Post_System("<B>$LOCALE[DIALOG_Syntax_Error]</B> - /$rgMatches[1] { viewlogs | unregister } [ $LOCALE[COMMON_Username] ]", "syntax", $Room); } } else { Post_System("<B>$LOCALE[DIALOG_Syntax_Error]</B> - /$rgMatches[1] $LOCALE[COMMON_Function_Invalid]", "syntax", $Room); } ?>
