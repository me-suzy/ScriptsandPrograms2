<?PHP
  if ($STATUS[Admin] == "yes" or $STATUS[Operator] == "yes") { $rgArgs[0] = Clean_Variable($rgArgs[0], "lowercase"); if (!empty($rgArgs[0]) and $rgArgs[0] != $Username) { $rgArgs[0] = Clean_Variable($rgArgs[0], "all"); $rgUsers_SELECT = db_query(Validate(17), $CONN); while($rgUsers = db_fetch($rgUsers_SELECT)) { $szPoss_Operator = $rgUsers[operator]; } if ($CONFIG[Chat_Operator_Kill] != "true" and $STATUS[Admin] != "yes" and $szPoss_Operator == "yes") { Post_System("<B>$LOCALE[DIALOG_Syntax_Error]</B> - /$rgMatches[1] $LOCALE[COMMON_Function_Invalid]", "syntax", $Room); } else { $szUsers = db_numrows($rgUsers_SELECT); if ($szUsers == "1") { if (!empty($szDialogCommand)) { $szKickReason = "- ($szDialogCommand)"; } Post_System("$rgArgs[0] $LOCALE[DIALOG_Kicked] $szKickReason", "local", $Room); ChatLog("$rgArgs[0] $LOCALE[DIALOG_Kicked] - $szKickReason]"); Remove_User($rgArgs[0]); $rgProcess_INSERT = db_query("INSERT INTO chat_process VALUES(NULL, '$rgArgs[0]', 'kick', NULL)", $CONN); $rgUsers_SELECT = db_query(Validate(10), $CONN); while ($rgUsers = db_fetch($rgUsers_SELECT)) { $rgProcess_INSERT = db_query("INSERT INTO chat_process VALUES(NULL, '$rgUsers[username]', 'reload-all', NULL)", $CONN); } } else { Post_System("<I>$rgArgs[0] $LOCALE[DIALOG_Not_Online]</I>", "syntax", $Room); } } } else { Post_System("<B>$LOCALE[DIALOG_Syntax_Error]</B> - /$rgMatches[1] { $LOCALE[COMMON_Username] } [ $LOCALE[COMMON_Reason] ]", "syntax", $Room); } } else { Post_System("<B>$LOCALE[DIALOG_Syntax_Error]</B> - /$rgMatches[1] $LOCALE[DIALOG_OP_Only]", "syntax", $Room); } ?>
