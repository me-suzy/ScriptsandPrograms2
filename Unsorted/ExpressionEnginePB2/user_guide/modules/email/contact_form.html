<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />

  <title>Email Contact Form &#8211; ExpressionEngine Documentation</title>

  <meta name="MSSmartTagsPreventParsing" content="TRUE" />
  <link rel="contents" href="../../index.html" />
  <style type="text/css" media="screen,print">@import url(../../docs.css);</style>
</head>

<body>

<div id="header">
	<h1>ExpressionEngine Documentation</h1>
</div>


<div id="navlinks">
	<p><a href="../../index.html">Table of Contents</a></p>
</div>


<div id="content">

	<h1>Email Contact Form</h1>

	<p>The purpose of this tag is to create a contact form so your users can easily send you an email for various purposes like support, errors, or affection. To show your contact form use this tag pair:</p>

	<code>{exp:email:contact_form}<br />
<br />
{/exp:email:contact_form}</code>

	<p>The contact form is created pretty much like a normal form, only you don't specify the opening and closing form tags; ExpressionEngine takes care of those for you. There are a few variables that are available in order to auto-fill fields in the form, and also a few tag parameters to specify form handling and hidden recipients. Here's an example of how a contact form could be created:</p>

	<code>{exp:email:contact_form user_recipients="false" recipients="admin@yoursite.com" charset="utf-8"}<br />
<br />
&lt;h2>Support Form&lt;/h2><br />
<br />
&lt;p>&lt;label for="from">From:&lt;/label>&lt;br /><br />
&lt;input type="text" id="from" name="from" size="40" maxlength="35" value="{member_email}" />&lt;/p><br />
<br />
&lt;p>&lt;label for="subject">Subject:&lt;/label>&lt;br /><br />&lt;input type="text" id="subject" name="subject" size="40" value="Contact Form" />&lt;/p><br />
<br />
&lt;p>&lt;label for="message">Message:&lt;/label>&lt;br /><br />&lt;textarea id="message" name="message" rows="18" cols="40">Support Email from: {member_name}<br />
Sent at:  {current_time format="%Y %m %d"}&lt;/textarea>&lt;/p><br />
<br />
&lt;p>&lt;input name="submit" type='submit' value='Submit Form' />&lt;/p><br />
<br />
{/exp:email:contact_form}</code>



	<h2>Parameters</h2>

	<ul class="minitoc">
		<li><a href="#par_charset">charset="utf-8"</a></li>
		<li><a href="#par_recipients">recipients="you@example.com"</a></li>
		<li><a href="#par_user_recipients">user_recipients="true"</a></li>
		<li><a href="#par_return">return="http://www.example.com/index.php"</a></li>
	</ul>


	<h3><a name="par_charset">charset=</a></h3>

		<code>charset="utf-8"</code>

		<p>This allows you to set the character set of the email being sent. Use this if you form's template is using a character set other than iso-8859-1.</p>


	<h3><a name="par_recipients">recipients=</a></h3>

		<code>recipients="admin@example.com"</code>

		<p>You may specify hidden recipients for the form.  This is who will receive the submitted information.  You may specify more than one recipient by separating the email addresses with commas:</p>

		<code>recipients="admin@example.com,ceo@example.com,president@example.com"</code>


	<h3><a name="par_user_recipients">user_recipients=</a></h3>

		<code>user_recipients="true"</code>
		<code>user_recipients="false"</code>

		<p>The <samp>user_recipients</samp> parameter specifies whether or not the form will accept having the user input the recipients via the 'to' field in the form. If set to true, then you can create a 'to' form field where the user can input the addresses to which the email should be sent.</p>


	<h3><a name="par_return">return=</a></h3>

		<code>return="http://www.example.com/index.php"</code>

		<p>This parameter lets the admin specify to where the user is directed after the form is submitted.  Upon submission, the user is presented with a standard "thank you" message and a link.  The <samp>return</samp> parameter lets the location for the link be specified.</p>



	<h2>Variables</h2>

	<ul class="minitoc">
		<li><a href="#var_author_email">{author_email}</a></li>
		<li><a href="#var_author_name">{author_name}</a></li>
		<li><a href="#var_member_email">{member_email}</a></li>
		<li><a href="#var_member_name">{member_name}</a></li>
	</ul>


	<h3><a name="var_author_email">author_email</a></h3>

		<code>{author_email}</code>

		<p>If you create a permalink to a page containing the {exp:email:contact_form} tag, then the form allows the use of this variable to put in the email address of the author who wrote the linked entry.  This feature allows the creation of a "contact author" page.</p>


	<h3><a name="var_author_name">author_name</a></h3>

		<code>{author_name}</code>

		<p>If you create a permalink to a page containing the {exp:email:contact_form} tag, then the form allows the use of this variable to put in the screen name of the author who wrote the linked entry.  This feature allows the creation of a "contact author" page.</p>


	<h3><a name="var_member_email">member_email</a></h3>

		<code>{member_email}</code>

		<p>If a user is logged in, then it will display their email address as recorded in their member profile.</p>


	<h3><a name="var_member_name">member_name</a></h3>

		<code>{member_name}</code>

		<p>If a user is logged in, then it will display their screen name as recorded in their member profile.</p>




	<h2>Form Fields</h2>

	<ul class="minitoc">
		<li><a href="#form_from">from</a></li>
		<li><a href="#form_message">message</a></li>
		<li><a href="#form_name">name</a></li>
		<li><a href="#form_required">required</a></li>
		<li><a href="#form_subject">subject</a></li>
		<li><a href="#form_to">to</a></li>
	</ul>


	<h3><a name="form_from">from</a></h3>

		<code>&lt;input type="text" name="from" size="40" /></code>

		<p>Email address of person who is sending the email.</p>


	<h3><a name="form_message">message</a></h3>

		<code>&lt;textarea name="required" rows="10" cols="40">&lt;/textarea></code>

		<p>Main message of the email.</p>


	<h3><a name="form_name">name</a></h3>

		<code>&lt;input type="text" name="name" size="40" /></code>

		<p>Name of person who is sending the email.</p>


	<h3><a name="form_required">required</a></h3>

		<code>&lt;textarea name="required" rows="5" cols="40" readonly="readonly">&lt;/textarea></code>

		<p>This field allows you to have required information that is included at top of each email.  Useful for support emails where the information can be readonly or hidden.</p>


	<h3><a name="form_subject">subject</a></h3>

		<code>&lt;input type="text" name="subject" size="40" /></code>

		<p>Subject of the email that is being sent.</p>


	<h3><a name="form_to">to</a></h3>

		<code>&lt;input type="text" name="to" size="40" /></code>

		<p>Email address to which the email is being sent.  Multiple email addresses may be specified by separating them with a comma.</p>




</div>


<div id="footer">
  <address>ExpressionEngine &#8211; Copyright &#169; 2003-2004 &#8211; pMachine, Inc.</address><div class="validation"><a href="http://validator.w3.org/check/referer" title="Validate XHTML">XHTML</a> | <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Validate CSS">CSS</a></div>
</div>

</body>
</html>