<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs for page tce_functions_test.php</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="file-name">/shared/code/tce_functions_test.php</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
															<a href="#sec-functions">Functions</a>
			</div>
	<div class="info-box-body">	
		<!-- ========== Info from phpDoc block ========= -->
		
			</div>
</div>
		

	
	
	
	<a name="sec-functions"></a>	
	<div class="info-box">
		<div class="info-box-title">Functions</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<span class="disabled">Functions</span>
		</div>
		<div class="info-box-body">	
			<a name="functionF_checkTestStatus" id="functionF_checkTestStatus"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">F_checkTestStatus</span> (line <span class="line-number">135</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Check and returns specific test status for the specified user.<br /></p>
	<ul class="tags">
				<li><span class="field">return:</span> status: <ul><li>0 = the test generation process is started but not completed;</li><li>1 = the test has been successfully created;</li><li>2 = all questions have been displayed to the user;</li><li>3 = all questions have been answered;</li><li>4 = test locked (for timeout);</li></ul></li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">test</span>
		<span class="method-name">
			F_checkTestStatus
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$duration</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_id</span><span class="var-description">: user ID</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$duration</span><span class="var-description">: test duration in seconds</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_createTest" id="functionF_createTest"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">F_createTest</span> (line <span class="line-number">398</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Create user's test and returns TRUE on success.</p>
	<ul class="tags">
				<li><span class="field">return:</span> TRUE in case of success, FALSE otherwise.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			F_createTest
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$user_id</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID.</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_id</span><span class="var-description">: user ID.</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_executeTest" id="functionF_executeTest"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">F_executeTest</span> (line <span class="line-number">350</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns true if the current user is authorized to execute the selected test.<br />  Generates the test if it's not already generated.</p>
	<ul class="tags">
				<li><span class="field">return:</span> if user is authorized, false otherwise.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">true</span>
		<span class="method-name">
			F_executeTest
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID.</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_getAnswerScore" id="functionF_getAnswerScore"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">F_getAnswerScore</span> (line <span class="line-number">597</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the score associated to the selected answer for the specified test.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			F_getAnswerScore
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>, [<span class="var-type">int</span>&nbsp;<span class="var-name">$answer_id</span> = <span class="var-default">0</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$answer_text</span> = <span class="var-default">""</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$answer_id</span><span class="var-description">: answer ID</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$answer_text</span><span class="var-description">: answer text  return float answer score</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_getTestDuration" id="functionF_getTestDuration"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">F_getTestDuration</span> (line <span class="line-number">808</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the test duration time in seconds.</p>
	<ul class="tags">
				<li><span class="field">return:</span> test duration time in seconds</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			F_getTestDuration
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_getTestName" id="functionF_getTestName"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">F_getTestName</span> (line <span class="line-number">281</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the test name.</p>
	<ul class="tags">
				<li><span class="field">return:</span> test name or empty string in case of error.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			F_getTestName
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID.</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_getTestStartTime" id="functionF_getTestStartTime"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">F_getTestStartTime</span> (line <span class="line-number">784</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the user's test start time in seconds since UNIX epoch (1970-01-01 00:00:00).</p>
	<ul class="tags">
				<li><span class="field">return:</span> start time in seconds</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			F_getTestStartTime
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$testuser_id</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$testuser_id</span><span class="var-description">: user's test ID</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_getUserTests" id="functionF_getUserTests"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">F_getUserTests</span> (line <span class="line-number">26</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns an XHTML unordered list of user's enabled tests.</p>
	<ul class="tags">
				<li><span class="field">return:</span> containing an XHTML unordered list</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			F_getUserTests
		</span>
				()
			</div>

		
	
</div>
<a name="functionF_isRightTestlogUser" id="functionF_isRightTestlogUser"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">F_isRightTestlogUser</span> (line <span class="line-number">542</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Checks if the current user is the right testlog_id owner.<br />  This function is used for security reasons.</p>
	<ul class="tags">
				<li><span class="field">return:</span> TRUE in case of success, FALSE otherwise</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			F_isRightTestlogUser
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$testlog_id</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$testlog_id</span><span class="var-description">: test log ID</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_isValidIP" id="functionF_isValidIP"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">F_isValidIP</span> (line <span class="line-number">97</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Check if user's IP is valid over test IP range</p>
	<ul class="tags">
				<li><span class="field">return:</span> if IP is valid, false otherwise</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">true</span>
		<span class="method-name">
			F_isValidIP
		</span>
					([<span class="var-type">int</span>&nbsp;<span class="var-name">$user_ip</span> = <span class="var-default">""</span>], [<span class="var-type">int</span>&nbsp;<span class="var-name">$test_ip</span> = <span class="var-default">""</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$user_ip</span><span class="var-description">: user's IP address, default=&quot;&quot;</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_ip</span><span class="var-description">: test IP valid addresses, default=&quot;&quot;. Various IP addresses may be separated using comma character. The asterisk character may be used to indicate &quot;any number&quot;.</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_printTestInfo" id="functionF_printTestInfo"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">F_printTestInfo</span> (line <span class="line-number">240</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns an XHTML content containing specified test information.</p>
	<ul class="tags">
				<li><span class="field">return:</span> containing an XHTML code</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			F_printTestInfo
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$showip</span> = <span class="var-default">false</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$showip</span><span class="var-description">: if true display enabled users' IP range</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_questionForm" id="functionF_questionForm"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">F_questionForm</span> (line <span class="line-number">654</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns a formatted XHTML form code to handle the specified question.<br /></p>
<p class="description"><p>Form fields names are: answer_text, answer_id<br />  CSS classes:<ul><li>div.tcecontentbox</li><li>div.rowl</li><li>textarea.answertext</li></ul></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> XHTML code</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			F_questionForm
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$testlog_id</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$formname</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$testlog_id</span><span class="var-description">: test log ID</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$formname</span><span class="var-description">: form name (form ID)</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_questionsMenu" id="functionF_questionsMenu"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">F_questionsMenu</span> (line <span class="line-number">836</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Return a formatted XHTML ordered list containing test questions menu.<br /></p>
<p class="description"><p>the requested test log ID form field name is <em>nexttestlogid</em><br />  See CSS classes:<br />  ol.qlist (for menu list)<br />  div.navlink (for previous - next links)<br /></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> XHTML code</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			F_questionsMenu
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$testuser_id</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$testlog_id</span> = <span class="var-default">0</span>], <span class="var-type">string</span>&nbsp;<span class="var-name">$formname</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$testuser_id</span><span class="var-description">: user's test ID</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$formname</span><span class="var-description">: form name (form ID)</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_tcecode_to_title" id="functionF_tcecode_to_title"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">F_tcecode_to_title</span> (line <span class="line-number">305</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns tcecode text to simple string for XHTML title attribute.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			F_tcecode_to_title
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$str</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>)
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$str</span><span class="var-description">: text to process  return string</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_testInfoLink" id="functionF_testInfoLink"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">F_testInfoLink</span> (line <span class="line-number">212</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns XHTML link to open test info popup.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			F_testInfoLink
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$link_name</span> = <span class="var-default">""</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$link_name</span><span class="var-description">: link caption  return XHTML code</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_twoColRow" id="functionF_twoColRow"><!-- --></a>
<div class="oddrow">
	
	<div>
		<span class="method-title">F_twoColRow</span> (line <span class="line-number">329</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Return a formatted XHTML row to display 2 columns data.<br /></p>
<p class="description"><p>See CSS classes:<ul><li>div.row span.label</li><li>div.row span.formw</li></ul></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> XHTML code</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			F_twoColRow
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$label</span> = <span class="var-default">""</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$description</span> = <span class="var-default">""</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$value</span> = <span class="var-default">""</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$label</span><span class="var-description">: string to display on the left column</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$description</span><span class="var-description">: string to display on the title attribute of the left column field</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$value</span><span class="var-description">: string to display on the right column</span>			</li>
				</ul>
		
	
</div>
<a name="functionF_updateQuestionLog" id="functionF_updateQuestionLog"><!-- --></a>
<div class="evenrow">
	
	<div>
		<span class="method-title">F_updateQuestionLog</span> (line <span class="line-number">571</span>)
	</div> 

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Updates question log data (register user's answers).</p>
	<ul class="tags">
				<li><span class="field">return:</span> TRUE in case of success, FALSE otherwise</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			F_updateQuestionLog
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$test_id</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$testlog_id</span>, [<span class="var-type">int</span>&nbsp;<span class="var-name">$answer_id</span> = <span class="var-default">0</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$answer_text</span> = <span class="var-default">""</span>])
			</div>

			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$test_id</span><span class="var-description">: test ID</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$testlog_id</span><span class="var-description">: test log ID</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$answer_id</span><span class="var-description">: answer ID</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$answer_text</span><span class="var-description">: answer text</span>			</li>
				</ul>
		
	
</div>
		</div>
	</div>
	
	<p class="notes" id="credit">
		Documentation generated on Thu,  7 Jul 2005 00:54:46 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.3.0RC3</a>
	</p>
	</div></body>
</html>